<div id="unlock-container" style="background: rgba(255, 255, 255, 0.05); border: 2px solid #f1c40f; padding: 25px; border-radius: 25px; max-width: 350px; margin: 20px auto; text-align: center;">
    
    <div id="pay-zone">
        <div style="font-size: 50px;">☕</div>
        <h3 style="color: #f1c40f; margin: 10px 0;">Buy me a coffee to get Password</h3>
        <p style="font-size: 12px; opacity: 0.7;">Password will appear automatically after payment.</p>

        <div style="display: flex; justify-content: space-around; margin: 15px 0;">
            <div onclick="setPrice(1)" class="p-btn active" id="p1">1 ☕</div>
            <div onclick="setPrice(3)" class="p-btn" id="p3">3 ☕</div>
            <div onclick="setPrice(5)" class="p-btn" id="p5">5 ☕</div>
        </div>

        <form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_blank">
            <input type="hidden" name="business" value="jackwang1368@gmail.com">
            <input type="hidden" name="cmd" value="_xclick">
            <input type="hidden" name="item_name" value="Support Jack Wang - Unlock Pass">
            <input type="hidden" name="amount" id="pp-amount" value="1.00">
            <input type="hidden" name="currency_code" value="USD">
            <input type="hidden" name="return" value="https://discoverywithme.github.io/?status=success">

            <button type="submit" onclick="window.open('https://www.effectivegatecpm.com/v4huzy068?key=d0119603befa4a39f5f4a88cbc7ad840', '_blank')" 
                style="background: #f1c40f; color: #000; border: none; padding: 12px 30px; border-radius: 50px; font-weight: bold; cursor: pointer; width: 100%;">
                Donate $<span id="disp-amt">1</span> & Get Password
            </button>
        </form>
    </div>

    <div id="pass-zone" style="display: none;">
        <div style="font-size: 40px;">✅</div>
        <h3 style="color: #2ecc71;">Payment Successful!</h3>
        <p>Your Password:</p>
        <div style="font-size: 30px; color: #f1c40f; font-weight: bold; background: rgba(255,255,255,0.1); padding: 10px; border-radius: 10px; border: 1px dashed #f1c40f;">
            ABCD
        </div>
        <p style="font-size: 11px; margin-top: 10px;">Thank you for your support!</p>
    </div>
</div>

<style>
    .p-btn { background: rgba(255,255,255,0.1); padding: 10px; border-radius: 12px; cursor: pointer; width: 50px; transition: 0.3s; }
    .p-btn.active { background: #f1c40f; color: #000; font-weight: bold; }
</style>

<script>
    function setPrice(amt) {
        document.getElementById('pp-amount').value = amt + ".00";
        document.getElementById('disp-amt').innerText = amt;
        document.querySelectorAll('.p-btn').forEach(b => b.classList.remove('active'));
        document.getElementById('p' + amt).classList.add('active');
    }

    // KIỂM TRA NẾU KHÁCH QUAY LẠI TỪ PAYPAL
    const urlParams = new URLSearchParams(window.location.search);
    if (urlParams.get('status') === 'success') {
        document.getElementById('pay-zone').style.display = 'none';
        document.getElementById('pass-zone').style.display = 'block';
        // Cuộn xuống chỗ hiện pass cho khách thấy
        document.getElementById('unlock-container').scrollIntoView();
    }
</script>
